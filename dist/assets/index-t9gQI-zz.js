(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function U(){const e=document.querySelectorAll("head meta, head link");if(!document.getElementById("global-meta")){const n=document.createElement("div");n.id="global-meta",n.style.display="none",document.body.appendChild(n),e.forEach(t=>{n.appendChild(t.cloneNode(!0))})}}const S={},k=new Set,q=new Set;async function E(e){if(S[e])return S[e];const n=await fetch(e);if(!n.ok)throw new Error(`Erro ao carregar: ${e}`);const t=await n.text();return S[e]=t,t}async function Q(e){const n=[];return e.querySelectorAll('link[rel="stylesheet"]').forEach(t=>{const o=t.href;if(!o||k.has(o))return;k.add(o);const a=t.cloneNode(!0);document.head.appendChild(a),n.push(new Promise(r=>{a.onload=r,a.onerror=r}))}),Promise.all(n)}function Z(e){e.querySelectorAll("script").forEach(n=>{const t=n.src;if(t&&q.has(t)){n.remove();return}t&&q.add(t);const o=document.createElement("script");t?(o.src=t,o.type=n.type||"text/javascript",o.defer=!0):o.textContent=n.textContent,e.appendChild(o),n.remove()})}async function ee(e,n,t){const o=document.createElement("div");o.innerHTML=n,await Q(o);const a=o.querySelector("#children")||o;let r=e.querySelector("#children-wrapper");r||(r=document.createElement("div"),r.id="children-wrapper",e.appendChild(r));const c=document.createDocumentFragment();if(c.append(...a.childNodes),r.replaceChildren(c),Z(r),typeof window.loadConstants=="function")try{window.loadConstants(r)}catch(d){console.warn("Erro em loadConstants:",d)}const i=o.querySelector("title")?.textContent;i&&(document.title=i);const s={};o.querySelectorAll("meta[name], meta[property]").forEach(d=>{const u=d.getAttribute("name")||d.getAttribute("property");u&&(s[u]=d.getAttribute("content"))}),document.dispatchEvent(new CustomEvent("spa:pageLoaded",{detail:{page:t,title:i,metas:s}}))}let b={scroll:{enabled:!1,mode:"original",custom:{ease:.2,stepMin:.8,stepMax:80}},fade:{enabled:!0,duration:250,useTranslate:!0,translateValue:"1px"}};function O(e,n=250){return new Promise(t=>{if(!e)return t();let o=!1;const a=setTimeout(()=>{o&&(o=!0,c(),t())},n+50);function r(i){i.target!==e||o||(o=!0,c(),t())}function c(){clearTimeout(a),e.removeEventListener("transitionend",r)}e.addEventListener("transitionend",r)})}const A=new WeakMap;async function te(e,n,t){const o=b.fade||{enabled:!1};if(!o.enabled||!e)return n();const a=o.duration,r=o.useTranslate?o.translateValue:null,c=A.get(e);c&&await c.catch(()=>{});const i=(async()=>{const s=e.style.transition;e.style.transition=`opacity ${a}ms ease, transform ${a}ms ease`,e.style.willChange="opacity, transform",e.style.opacity||(e.style.opacity=getComputedStyle(e).opacity||"1"),e.offsetWidth,e.style.opacity="0",r&&(e.style.transform=`translateY(${r})`),await O(e,a),await n(),e.offsetWidth,e.style.opacity="1",r&&(e.style.transform="translateY(0)"),await O(e,a),e.style.transition=s||""})();A.set(e,i);try{await i}finally{A.delete(e)}}let m={initialized:!1,cleanup:null};function ne(e){if(m.initialized||!e?.enabled||("ontouchstart"in window||navigator.maxTouchPoints>0)&&e.mode!=="custom")return;const t={original:{ease:1,stepMin:.5,stepMax:1/0},smooth:{ease:.2,stepMin:.8,stepMax:80},heavy:{ease:.07,stepMin:.6,stepMax:40}},o=e.mode==="custom"?e.custom||e:t[e.mode]||t.smooth;let a=window.scrollY,r=a,c=!1;function i(l,p,K){return Math.max(p,Math.min(K,l))}function s(){const l=a-r;if(Math.abs(l)>.5){let p=l*o.ease;p=i(p,-o.stepMax,o.stepMax),Math.abs(p)<o.stepMin&&(p=p>0?o.stepMin:-o.stepMin),r+=p,window.scrollTo(0,r),requestAnimationFrame(s)}else r=a,window.scrollTo(0,r),c=!1}function d(l){a=i(l,0,document.documentElement.scrollHeight-window.innerHeight),c||(c=!0,requestAnimationFrame(s))}function u(l){const p=l.target?.tagName;l.ctrlKey||["INPUT","TEXTAREA","SELECT"].includes(p)||l.target.isContentEditable||(l.preventDefault(),d(a+l.deltaY))}window.addEventListener("wheel",u,{passive:!1}),m.initialized=!0,m.cleanup=()=>{window.removeEventListener("wheel",u),m.initialized=!1,m.cleanup=null},console.log("Smooth scroll initialized:",o)}function oe(e){b={...b,...e},ne(b.scroll)}const C=document.getElementById("route");async function T(e,n="Erro"){const t=f.error?.[e];if(!t){console.error(`gateway.error.${e} não configurado`),C.innerHTML=`<h1>${n}</h1>`,document.title=n;return}try{const o=await E(t.endsWith(".html")?t:`${t}.html`);C.innerHTML=o,document.title=n}catch(o){console.error(`Falha ao carregar gateway ${e}:`,o),C.innerHTML=`<h1>${n}</h1>`,document.title=n}}async function I(){let e=document.getElementById("pageLoad");e||(e=document.createElement("div"),e.id="pageLoad",Object.assign(e.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.85)",zIndex:"9999",color:"#fff"}),document.body.appendChild(e)),e.style.display="flex";try{const n=await E(f.load.pageLoad.endsWith(".html")?f.load.pageLoad:`${f.load.pageLoad}.html`);e.innerHTML=n}catch(n){console.error("Falha ao carregar pageLoad:",n),e.innerHTML="Carregando…"}}function g(){const e=document.getElementById("pageLoad");e&&(e.style.display="none",e.innerHTML="")}async function R(){history.pushState({},"","/404"),await T("error404","404 - Página não encontrada")}async function P(){history.pushState({},"","/500"),await T("error500","500 - Erro interno")}async function N(){history.pushState({},"","/offline"),await T("errorOffline","Sem conexão")}async function x(e){const n=f.flows.find(t=>t.path.test(e));if(n){await I();try{location.pathname!==e&&history.pushState({},"",e);const t=await E(n.page.endsWith(".html")?n.page:`${n.page}.html`);C.innerHTML=t,document.title=n.title||"Flow Page"}catch(t){console.error("Falha ao carregar flow:",t)}finally{g()}}}window.addEventListener("popstate",()=>{const e=location.pathname;f.flows.find(t=>t.path.test(e))?x(e):y(e)});const ae=document.getElementById("route"),W=new Set;async function z(e){const n=document.querySelector("#children-wrapper");if(!n)return;const t=G.find(o=>o.path.test(e));if(!t){R();return}try{const o=await E(t.page.endsWith(".html")?t.page:`${t.page}.html`);await te(n,async()=>{await ee(n,o,t.page)})}catch{navigator.onLine?P():N()}}async function B(e){if(!W.has(e))try{const n=await E(e.endsWith(".html")?e:`${e}.html`);ae.innerHTML=n,W.add(e)}catch{P()}}async function y(e){e.startsWith("/")||(e=`/${e}`);const n=Date.now(),t=f.load.loadTime;if(f.flows.some(r=>r.path.test(e))){x(e);return}const o=M.find(r=>r.path.test(e)),a=G.find(r=>r.path.test(e));try{if(o){if(await I(),await B(o.page),h.useChildren){const i=e.split("/").filter(Boolean)[1]||h.defaultChild;await z(i)}const r=Date.now()-n;r<t&&await new Promise(c=>setTimeout(c,t-r)),g();return}if(a){const r=M.find(c=>c.path.test(`/${h.dirsChild}`))||M[1];await B(r.page),await z(e);return}g(),R()}catch{g(),navigator.onLine?P():N()}}function re(e){const n=e.target.closest("a[page]");if(!n)return;const t=n.getAttribute("href");if(!t||t.startsWith("http")||t.startsWith("mailto:")||n.target==="_blank")return;e.preventDefault();const o=t.startsWith("/")?t:`/${t}`;if(f.flows.some(a=>a.path.test(o))){x(o);return}location.pathname!==o&&window.history.pushState({},"",o),y(o)}U();document.addEventListener("DOMContentLoaded",async()=>{document.body.addEventListener("click",re),window.addEventListener("popstate",()=>y(location.pathname)),await I(),await y(location.pathname),g()});function se(e={}){const n={enabled:e.enabled??!0,up:e.up??null,down:e.down??null,left:e.left??null,right:e.right??null,threshold:e.threshold??50};if(!n.enabled)return;let t=0,o=0;function a(c){const i=c.touches[0];t=i.clientX,o=i.clientY}function r(c){const i=c.changedTouches[0],s=i.clientX-t,d=i.clientY-o;Math.abs(s)>Math.abs(d)&&Math.abs(s)>n.threshold?s>0&&n.right?location.hash=n.right:s<0&&n.left&&(location.hash=n.left):Math.abs(d)>Math.abs(s)&&Math.abs(d)>n.threshold&&(d>0&&n.down?location.hash=n.down:d<0&&n.up&&(location.hash=n.up))}document.addEventListener("touchstart",a,{passive:!0}),document.addEventListener("touchend",r,{passive:!0})}const J=["A listener indicated an asynchronous response","chrome-extension"];window.addEventListener("error",e=>{const n=e.message||"";J.some(t=>n.includes(t))&&(console.warn("Erro ignorado:",n),e.preventDefault())});window.addEventListener("unhandledrejection",e=>{const n=e.reason||"";typeof n=="string"&&n.includes(J[0])&&(console.warn("Rejeição de promessa ignorada:",n),e.preventDefault())});typeof window<"u"&&window.addEventListener("load",()=>{});const v={css:new Set,js:new Set};async function ie(e){if(!v.css.has(e))return new Promise(n=>{const t=document.createElement("link");t.rel="stylesheet",t.href=e,t.onload=n,t.onerror=n,document.head.appendChild(t),v.css.add(e)})}async function L(e){if(!v.js.has(e))return new Promise((n,t)=>{const o=document.createElement("script");o.src=e,o.type="module",o.defer=!0,o.onload=()=>n(),o.onerror=()=>t(new Error(`Erro ao carregar ${e}`)),document.body.appendChild(o),v.js.add(e)})}const Y=new IntersectionObserver(e=>{e.forEach(async n=>{if(!n.isIntersecting)return;const t=n.target;Array.from(t.classList).filter(o=>o.includes("-")).forEach(async o=>{const[a,r]=o.split("-"),c=`${h.dirs.models}/${a}/${r}/styles.css`,i=`${h.dirs.models}/${a}/${r}/script.js`;try{await ie(c),await L(i);const s=`${a}-${r}`;window.Components?.[s]?.init&&window.Components[s].init()}catch(s){console.warn(s)}}),t.dataset.lazy&&import(t.dataset.lazy).then(o=>o.init?.(t)).catch(()=>{}),t.querySelectorAll("script[type='module'][src$='script.js']").forEach(o=>L(o.src).catch(()=>{})),Y.unobserve(t)})},{threshold:.1});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[class*='-'], [data-lazy]").forEach(e=>Y.observe(e)),[].forEach(e=>L(e).catch(()=>{}))});function ce(e){(e||"").replace(/^#/,""),document.querySelectorAll("[data-lazy]").forEach(n=>{import(n.dataset.lazy).then(t=>t.init?.(n)).catch(()=>{})}),document.querySelectorAll("script[type='module'][src$='script.js']").forEach(n=>L(n.src).catch(()=>{}))}function le(e){e.querySelectorAll("[data-image]").forEach(t=>{const o=t.getAttribute("data-image"),a=be[o];if(!a){console.warn(`⚠️ data-image="${o}" não encontrado no imageMap`);return}t.alt=a.alt||o,t.title=a.title||o,t.decoding="async",t.loading="lazy",t.fetchPriority=a.fetchpriority||"low";let r=a.src;const c=a.dark&&window.matchMedia("(prefers-color-scheme: dark)").matches;if(a.set){const i=window.innerWidth;(!a.set.minWidth||i>=a.set.minWidth)&&(!a.set.maxWidth||i<=a.set.maxWidth)?r=c&&a.set.dark?a.set.dark:a.set.src:c&&a.dark&&(r=a.dark)}else c&&a.dark&&(r=a.dark);t.src=r})}function de(e){e.querySelectorAll("[data-link]").forEach(t=>{const o=t.getAttribute("data-link"),a=Ce[o];if(!a){console.warn(`⚠️ data-link="${o}" não encontrado no linkMap`);return}t.href=a.href,t.title=a.title||o,t.rel="noopener noreferrer",a.type&&(t.type=a.type),a["aria-label"]&&t.setAttribute("aria-label",a["aria-label"]),a.download&&(a.download===!0?t.setAttribute("download",""):t.setAttribute("download",a.download)),a.target&&(t.target=a.target)})}class ue extends HTMLElement{connectedCallback(){this.render()}render(){const n=this.getAttribute("data-icon"),t=ve[n];if(t&&!this.querySelector("img")){const o=document.createElement("img");o.src=t.src||t,o.alt=this.getAttribute("alt")||n,o.title=this.getAttribute("title")||n,o.loading="lazy",o.decoding="async",this.hasAttribute("width")&&(o.width=this.getAttribute("width")),this.hasAttribute("height")&&(o.height=this.getAttribute("height")),o.setAttribute("role","img"),this.appendChild(o)}}}customElements.get("my-icon")||customElements.define("my-icon",ue);function pe(e=document){e.querySelectorAll("my-icon[data-icon]").forEach(t=>{typeof t.render=="function"&&t.render()})}function _(e=document){le(e),de(e),pe(e)}function he(e=document.getElementById("route")){if(!e)return;new MutationObserver(()=>_(e)).observe(e,{childList:!0,subtree:!0})}function fe(){_(),he()}const V={data:{}};function me(){try{localStorage.setItem("spaCache",JSON.stringify(V.data))}catch(e){console.warn("saveCache falhou:",e)}}function we(){try{const e=localStorage.getItem("spaCache");e&&(V.data=JSON.parse(e))}catch(e){console.warn("loadCache falhou:",e)}}we();window.addEventListener("beforeunload",me);const D=new Set,F=new Set,H=new Map;function ge(e,n="html"){return`${window.location.origin}/${h.dirs.layouts}/${e}.${n}`}async function ye(e,n,t={}){if(!e||!n)return;let o=H.get(e);if(!o)try{const s=await fetch(ge(e,"html"));if(!s.ok)throw new Error("not found");o=await s.text(),H.set(e,o)}catch{n.innerHTML=`<p style="color:red">Erro ao carregar ${e}</p>`;return}let a=o;Object.keys(t).forEach(s=>{const d=String(t[s]).replace(/[&<>"]/g,u=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"})[u]);a=a.replace(new RegExp(`{{\\s*${s}\\s*}}`,"g"),d)});const r=document.createElement("div");r.innerHTML=a;const c=Array.from(r.querySelectorAll('link[rel="stylesheet"]')).map(s=>!s.href||D.has(s.href)?Promise.resolve():new Promise(d=>{const u=s.cloneNode(!0);u.onload=u.onerror=d,document.head.appendChild(u),D.add(s.href)}));await Promise.all(c);const i=Array.from(r.querySelectorAll("script"));i.forEach(s=>s.remove()),n.innerHTML=r.innerHTML,i.forEach((s,d)=>{const u=`${e}-${s.src||"inline-"+d}`;if(F.has(u))return;const l=document.createElement("script");s.src?(l.src=s.src,l.defer=!0):l.textContent=s.textContent,document.body.appendChild(l),F.add(u)}),window.setupInstallButton&&window.setupInstallButton()}function X(){document.querySelectorAll("[data-component]").forEach(e=>{if(e.dataset.initialized==="true")return;const n=e.dataset.component,t=e.dataset.props?JSON.parse(e.dataset.props):{};ye(n,e,t),e.dataset.initialized="true"})}document.addEventListener("DOMContentLoaded",X);document.addEventListener("spa:pageLoaded",X);window.loadConstants=async function(e=document){const n=window._loadedCss||new Set,t=window._loadedJs||new Set;window._loadedCss=n,window._loadedJs=t;const o=(e||document).querySelectorAll("[class*='-']"),a=new Set;o.forEach(i=>i.classList.forEach(s=>{s.includes("-")&&a.add(s)}));const r=[...a];r.forEach(i=>{const[s,d]=i.split("-"),u=`${h.dirs.models}/${s}/${d}/styles.css`;if(!n.has(u)){const l=document.createElement("link");l.rel="stylesheet",l.href=u,document.head.appendChild(l),n.add(u)}});const c=r.map(i=>{const[s,d]=i.split("-"),u=`${h.dirs.models}/${s}/${d}/script.js`;return t.has(u)?(window.Components?.[i]?.init&&window.Components[i].init(),Promise.resolve()):new Promise(l=>{const p=document.createElement("script");p.src=u,p.defer=!0,p.onload=()=>{window.Components?.[i]?.init&&window.Components[i].init(),l()},p.onerror=()=>l(),document.body.appendChild(p),t.add(u)})});await Promise.all(c)};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>console.log("SW registrado!",e)).catch(e=>console.error("Falha ao registrar SW:",e))});let w=null;function Ee(){const e=document.getElementById(`${$.classInstall}`);if(!e)return;e.style.display="inline-block";const n=/iphone|ipad|ipod/i.test(navigator.userAgent),t=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;if(n&&!t){e.textContent="Adicionar à Tela Inicial",e.onclick=()=>{alert($.alertIphone)};return}if(window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),w=o,console.log("Evento beforeinstallprompt capturado!")}),t){e.textContent="Atualizar App",e.onclick=()=>location.reload(!0);return}e.addEventListener("click",async()=>{if(!w){alert($.alertDesktop);return}w.prompt(),(await w.userChoice).outcome==="accepted"?console.log("Usuário aceitou instalar o app!"):alert("Você cancelou a instalação do app."),w=null}),window.addEventListener("appinstalled",()=>{console.log("App instalado!"),e&&(e.textContent="Atualizar App",e.onclick=()=>location.reload(!0))})}window.setupInstallButton=Ee;fe();const h={dirs:{layouts:"/components/layouts",models:"/components/models"},useChildren:!0,persistentChild:null,defaultChild:"/Init",dirsChild:"/app/Home/home"},M=[{path:/^\/$/,page:"./app/site/site"},{path:/^\/Home$/,page:h.dirsChild}],G=[{path:/^\/Init$/,page:"/app/routes/Init/init"},{path:/^\/Botoes$/,page:"/app/routes/Buttons/buttons"},{path:/^\/Fundos$/,page:"/app/routes/Background/background"},{path:/^\/Anotacoes$/,page:"/app/routes/Note/note"},{path:/^\/Sobre$/,page:"/app/routes/About/about"},{path:/^\/Contato$/,page:"/app/routes/Contact/contact"}],be={logo:{src:"/constant/image/Frame.png",alt:"imagem da logo",title:"Lucas Bucalon",fetchpriority:"high",dark:"/constant/image/Frame.png",set:{src:"/constant/image/Frame.png",Dark:"/constant/image/Frame.png",maxWidth:768}}},Ce={curriculo:{href:"/constant/pdf/Curriculo.pdf",download:!1,type:"application/pdf",title:"Currículo","aria-label":"Currículo em PDF"}},ve={icon:{src:"/constant/svg/icon.svg",alt:"icon",title:"icon"}},j={scroll:{enabled:!0,mode:"smooth",custom:{ease:.4,stepMin:1,stepMax:60}},fade:{enabled:!0,duration:250,useTranslate:!1,translateValue:"1px"}},f={error:{error404:"./app/pages/error/404",error500:"./app/pages/error/500",errorOffline:"./app/pages/error/offline"},load:{pageLoad:"/app/pages/loads/pageLoad",loading:"/app/pages/loads/loading",loadTime:500},flows:[{path:/^\/Politicas$/,page:"/app/pages/flows/politicas"},{path:/^\/Informacoes$/,page:"/app/pages/flows/informacoes"}]},$={classInstall:"install-btn",alertIphone:`No iPhone/iPad:

1. Toque em 'Compartilhar' (ícone quadrado com seta).
2. Escolha 'Adicionar à Tela de Início'.`,alertDesktop:`Seu dispositivo desktop não suporta instalação deste App.
Para instalar, siga as instruções:

1. Abra o navegador no site.
2. Abra o menu do navegador (três pontos).
3. Procure 'Instalar' ou 'Adicionar à Tela de Início'.
4. Siga as instruções.`};document.addEventListener("DOMContentLoaded",()=>{oe(j),y(location.pathname||"/"),se({enabled:!1,left:"/Botoes",right:"/Fundos",up:"/Sobre",down:"/Contato",threshold:40}),document.addEventListener("spa:pageLoaded",()=>{ce(location.pathname)}),console.log("Main.js initialized: animated config",j)});
