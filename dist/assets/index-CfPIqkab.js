(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();function Z(){const e=document.querySelectorAll("head meta, head link");if(!document.getElementById("global-meta")){const t=document.createElement("div");t.id="global-meta",t.style.display="none",document.body.appendChild(t),e.forEach(n=>{t.appendChild(n.cloneNode(!0))})}}function D(e=document){const t=document.getElementById("global-meta");if(!t)return;e.head.querySelectorAll("meta[data-global], link[data-global]").forEach(o=>o.remove()),t.querySelectorAll("meta, link").forEach(o=>{const a=o.cloneNode(!0);a.setAttribute("data-global","true"),e.head.appendChild(a)})}const L={},k=new Set,x=new Set;async function E(e){if(L[e])return L[e];const t=await fetch(e);if(!t.ok)throw new Error(`Erro ao carregar: ${e}`);const n=await t.text();return L[e]=n,n}async function ee(e){const t=[];return e.querySelectorAll('link[rel="stylesheet"]').forEach(n=>{const o=n.href;if(!o||k.has(o))return;k.add(o);const a=n.cloneNode(!0);document.head.appendChild(a),t.push(new Promise(r=>{a.onload=r,a.onerror=r}))}),Promise.all(t)}function te(e){e.querySelectorAll("script").forEach(t=>{const n=t.src;if(n&&x.has(n)){t.remove();return}n&&x.add(n);const o=document.createElement("script");n?(o.src=n,o.type=t.type||"text/javascript",o.defer=!0):o.textContent=t.textContent,e.appendChild(o),t.remove()})}async function ne(e,t,n){const o=document.createElement("div");o.innerHTML=t,await ee(o);const a=o.querySelector("#children")||o;let r=e.querySelector("#children-wrapper");r||(r=document.createElement("div"),r.id="children-wrapper",e.appendChild(r));const s=document.createDocumentFragment();if(s.append(...a.childNodes),r.replaceChildren(s),te(r),typeof window.loadConstants=="function")try{window.loadConstants(r)}catch(d){console.warn("Erro em loadConstants:",d)}const c=o.querySelector("title")?.textContent;c&&(document.title=c);const i={};o.querySelectorAll("meta[name], meta[property]").forEach(d=>{const l=d.getAttribute("name")||d.getAttribute("property");l&&(i[l]=d.getAttribute("content"))}),document.dispatchEvent(new CustomEvent("spa:pageLoaded",{detail:{page:n,title:c,metas:i}}))}let b={scroll:{enabled:!1,mode:"original",custom:{ease:.2,stepMin:.8,stepMax:80}},fade:{enabled:!0,duration:250,useTranslate:!0,translateValue:"1px"}};function W(e,t=250){return new Promise(n=>{if(!e)return n();let o=!1;const a=setTimeout(()=>{o||(o=!0,s(),n())},t+50);function r(c){c.target!==e||o||(o=!0,s(),n())}function s(){clearTimeout(a),e.removeEventListener("transitionend",r)}e.addEventListener("transitionend",r)})}const C=new WeakMap;async function oe(e,t,n){const o=b.fade||{enabled:!1};if(!o.enabled||!e)return t();const a=o.duration,r=o.useTranslate?o.translateValue:null,s=C.get(e);s&&await s.catch(()=>{});const c=(async()=>{const i=e.style.transition;e.style.transition=`opacity ${a}ms ease, transform ${a}ms ease`,e.style.willChange="opacity, transform",e.style.opacity||(e.style.opacity=getComputedStyle(e).opacity||"1"),e.offsetWidth,e.style.opacity="0",r&&(e.style.transform=`translateY(${r})`),await W(e,a),await t(),e.offsetWidth,e.style.opacity="1",r&&(e.style.transform="translateY(0)"),await W(e,a),e.style.transition=i||""})();C.set(e,c);try{await c}finally{C.delete(e)}}let f={initialized:!1,cleanup:null};function q(e,t,n){return Math.max(t,Math.min(n,e))}function ae(e){if(f.initialized||!e?.enabled||("ontouchstart"in window||navigator.maxTouchPoints>0)&&e.mode!=="custom")return;const n={original:{ease:1,stepMin:.5,stepMax:1/0},smooth:{ease:.2,stepMin:.8,stepMax:80},heavy:{ease:.07,stepMin:.6,stepMax:40}},o=e.mode==="custom"?e.custom||e:n[e.mode]||n.smooth;let a=window.scrollY,r=a,s=!1;function c(){const l=a-r;if(Math.abs(l)>.5){let u=l*o.ease;u=q(u,-o.stepMax,o.stepMax),Math.abs(u)<o.stepMin&&(u=u>0?o.stepMin:-o.stepMin),r+=u,window.scrollTo(0,r),requestAnimationFrame(c)}else r=a,window.scrollTo(0,r),s=!1}function i(l){a=q(l,0,document.documentElement.scrollHeight-window.innerHeight),s||(s=!0,requestAnimationFrame(c))}function d(l){const u=l.target?.tagName;l.ctrlKey||["INPUT","TEXTAREA","SELECT"].includes(u)||l.target.isContentEditable||(l.preventDefault(),i(a+l.deltaY))}window.addEventListener("wheel",d,{passive:!1}),f.initialized=!0,f.cleanup=()=>{window.removeEventListener("wheel",d),f.initialized=!1,f.cleanup=null},console.log("Smooth scroll initialized:",o)}function re(e){b={...b,...e},ae(b.scroll)}const g=document.getElementById("route");async function $(e,t="Erro"){const n=h.error?.[e];if(!n){console.error(`gateway.error.${e} não configurado`),g.innerHTML=`<h1>${t}</h1>`,document.title=t;return}try{const o=await E(n.endsWith(".html")?n:`${n}.html`);g.innerHTML=o,document.title=t}catch(o){console.error(`Falha ao carregar gateway ${e}:`,o),g.innerHTML=`<h1>${t}</h1>`,document.title=t}}async function P(){let e=document.getElementById("pageLoad");e||(e=document.createElement("div"),e.id="pageLoad",Object.assign(e.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,1)",zIndex:"9999",color:"#fff",fontFamily:"sans-serif",fontSize:"1.2rem",textAlign:"center"}),document.body.appendChild(e)),e.style.display="flex";try{const t=await E(h.load.pageLoad.endsWith(".html")?h.load.pageLoad:`${h.load.pageLoad}.html`);e.innerHTML=t}catch(t){console.error("Falha ao carregar pageLoad:",t),e.innerHTML="Carregando…"}}function w(){const e=document.getElementById("pageLoad");e&&(e.style.display="none",e.innerHTML="")}async function N(){history.pushState({},"","/404"),await $("error404","404 - Página não encontrada")}async function T(){history.pushState({},"","/500"),await $("error500","500 - Erro interno")}async function J(){history.pushState({},"","/offline"),await $("errorOffline","Sem conexão")}async function I(e){const t=h.flows.find(n=>n.path.test(e));if(t){await P();try{location.pathname!==e&&history.pushState({},"",e);const n=await E(t.page.endsWith(".html")?t.page:`${t.page}.html`);g.innerHTML=n,document.title=t.title||"Flow Page"}catch(n){console.error("Falha ao carregar flow:",n),g.innerHTML="<h1>Erro ao carregar flow</h1>",document.title="Erro Flow"}finally{w()}}}window.addEventListener("popstate",()=>{const e=location.pathname;h.flows.find(n=>n.path.test(e))?I(e):y(e)});const se=document.getElementById("route"),F=new Set;Z();function Y(e){e?.meta&&updateMeta(e.meta)}async function O(e,t){if(!F.has(e))try{const n=await E(e.endsWith(".html")?e:`${e}.html`);se.innerHTML=n,D(),Y(t),F.add(e)}catch{T()}}async function z(e){const t=document.querySelector("#children-wrapper");if(!t)return;const n=K.find(o=>o.path.test(e));if(!n){N();return}try{const o=await E(n.page.endsWith(".html")?n.page:`${n.page}.html`);await oe(t,async()=>{await ne(t,o,n.page),D(),Y(n)})}catch{navigator.onLine?T():J()}}async function y(e){e.startsWith("/")||(e=`/${e}`);const t=Date.now(),n=h.load.loadTime;if(h.flows.some(r=>r.path.test(e))){I(e);return}const o=S.find(r=>r.path.test(e)),a=K.find(r=>r.path.test(e));try{if(o){if(await P(),await O(o.page,o.meta),p.useChildren){const c=e.split("/").filter(Boolean)[1]||p.defaultChild;await z(c)}const r=Date.now()-t;r<n&&await new Promise(s=>setTimeout(s,n-r)),w();return}if(a){const r=S.find(s=>s.path.test(`/${p.dirsChild}`))||S[1];await O(r.page,r.meta),await z(e);return}w(),N()}catch{w(),navigator.onLine?T():J()}}function ie(e){const t=e.target.closest("a[page]");if(!t)return;const n=t.getAttribute("href");if(!n||n.startsWith("http")||n.startsWith("mailto:")||t.target==="_blank")return;e.preventDefault();const o=n.startsWith("/")?n:`/${n}`;if(h.flows.some(a=>a.path.test(o))){I(o);return}location.pathname!==o&&window.history.pushState({},"",o),y(o)}document.addEventListener("DOMContentLoaded",async()=>{document.body.addEventListener("click",ie),window.addEventListener("popstate",()=>y(location.pathname)),await P(),await y(location.pathname),w()});function ce(e={}){const t={enabled:e.enabled??!0,up:e.up??null,down:e.down??null,left:e.left??null,right:e.right??null,threshold:e.threshold??50,onSwipe:e.onSwipe??null};if(!t.enabled)return;let n=0,o=0;function a(s){const c=s.touches[0];n=c.clientX,o=c.clientY}function r(s){const c=s.changedTouches[0],i=c.clientX-n,d=c.clientY-o;let l=null;if(Math.abs(i)>Math.abs(d)&&Math.abs(i)>t.threshold?l=i>0?"right":"left":Math.abs(d)>Math.abs(i)&&Math.abs(d)>t.threshold&&(l=d>0?"down":"up"),!!l){if(typeof t.onSwipe=="function"){t.onSwipe(l);return}switch(l){case"up":t.up&&(location.hash=t.up);break;case"down":t.down&&(location.hash=t.down);break;case"left":t.left&&(location.hash=t.left);break;case"right":t.right&&(location.hash=t.right);break}}}return document.addEventListener("touchstart",a,{passive:!0}),document.addEventListener("touchend",r,{passive:!0}),()=>{document.removeEventListener("touchstart",a),document.removeEventListener("touchend",r)}}const le=["A listener indicated an asynchronous response","chrome-extension"];function _(e){const t=e.message||e.reason||"";le.some(n=>t.includes(n))&&(console.warn("Ignorado:",t),e.preventDefault?.())}window.addEventListener("error",_);window.addEventListener("unhandledrejection",_);const v={css:new Set,js:new Set};function de(e){return v.css.has(e)?Promise.resolve():new Promise(t=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,n.onload=t,n.onerror=t,document.head.appendChild(n),v.css.add(e)})}function M(e,t=!0){return v.js.has(e)?Promise.resolve():new Promise((n,o)=>{const a=document.createElement("script");a.src=e,a.defer=!0,t&&(a.type="module"),a.onload=()=>n(),a.onerror=()=>o(new Error(`Falha ao carregar ${e}`)),document.body.appendChild(a),v.js.add(e)})}const G=new IntersectionObserver(e=>{e.forEach(async t=>{if(!t.isIntersecting)return;const n=t.target;for(const o of Array.from(n.classList).filter(a=>a.includes("-"))){const[a,r]=o.split("-"),s=`${p.dirs.models}/${a}/${r}/styles.css`,c=`${p.dirs.models}/${a}/${r}/script.js`;try{await de(s),await M(c);const i=`${a}-${r}`;window.Components?.[i]?.init?.()}catch(i){console.warn(i)}}n.dataset.lazy&&import(n.dataset.lazy).then(o=>o.init?.(n)).catch(()=>{}),n.querySelectorAll("script[type='module'][src$='script.js']").forEach(o=>{M(o.src).catch(()=>{})}),G.unobserve(n)})},{threshold:.1});function ue(){document.querySelectorAll("[class*='-'], [data-lazy]").forEach(e=>G.observe(e))}async function pe(){document.querySelectorAll("[data-lazy]").forEach(e=>{import(e.dataset.lazy).then(t=>t.init?.(e)).catch(()=>{})}),document.querySelectorAll("script[type='module'][src$='script.js']").forEach(e=>M(e.src).catch(()=>{}))}document.addEventListener("DOMContentLoaded",()=>{ue()});function he(e=document){e.querySelectorAll("[data-image]").forEach(n=>{const o=n.dataset.image,a=Me[o];if(!a)return console.warn(`⚠️ data-image="${o}" não encontrado no imageMap`);const r=a.dark&&window.matchMedia("(prefers-color-scheme: dark)").matches;let s=a.src;if(a.set){const c=window.innerWidth;(!a.set.minWidth||c>=a.set.minWidth)&&(!a.set.maxWidth||c<=a.set.maxWidth)?s=r&&a.set.dark?a.set.dark:a.set.src:r&&a.dark&&(s=a.dark)}else r&&a.dark&&(s=a.dark);n.src=s,n.alt=a.alt||o,n.title=a.title||o,n.decoding="async",n.loading="lazy",n.fetchPriority=a.fetchpriority||"low"})}function fe(e=document){e.querySelectorAll("[data-link]").forEach(n=>{const o=n.dataset.link,a=$e[o];if(!a)return console.warn(`⚠️ data-link="${o}" não encontrado no linkMap`);n.href=a.href,n.title=a.title||o,n.rel="noopener noreferrer",a.type&&(n.type=a.type),a["aria-label"]&&n.setAttribute("aria-label",a["aria-label"]),a.download&&n.setAttribute("download",a.download===!0?"":a.download),a.target&&(n.target=a.target)})}class me extends HTMLElement{connectedCallback(){this.render()}render(){const t=this.dataset.icon,n=Pe[t];if(!n||this.querySelector("img"))return;const o=document.createElement("img");o.src=n.src||n,o.alt=this.getAttribute("alt")||t,o.title=this.getAttribute("title")||t,o.decoding="async",o.loading="lazy",o.setAttribute("role","img"),this.hasAttribute("width")&&(o.width=this.getAttribute("width")),this.hasAttribute("height")&&(o.height=this.getAttribute("height")),this.appendChild(o)}}customElements.get("my-icon")||customElements.define("my-icon",me);function ge(e=document){e.querySelectorAll("my-icon[data-icon]").forEach(t=>{typeof t.render=="function"&&t.render()})}function X(e=document){he(e),fe(e),ge(e)}function we(e=document.getElementById("route")){if(!e)return;new MutationObserver(()=>X(e)).observe(e,{childList:!0,subtree:!0})}function ye(){X(),we()}const U={data:{},get(e,t=null){return this.data[e]!==void 0?this.data[e]:t},set(e,t){this.data[e]=t},remove(e){delete this.data[e]},clear(){this.data={}}};function Ee(){try{localStorage.setItem("spaCache",JSON.stringify(U.data))}catch(e){console.warn("saveCache falhou:",e)}}function be(){try{const e=localStorage.getItem("spaCache");e&&(U.data=JSON.parse(e))}catch(e){console.warn("loadCache falhou:",e)}}be();window.addEventListener("beforeunload",Ee);const H=new Set,B=new Set,j=new Map;function ve(e,t="html"){return`${window.location.origin}/${p.dirs.layouts}/${e}.${t}`}function Le(e,t={}){let n=e;return Object.keys(t).forEach(o=>{const a=String(t[o]).replace(/[&<>"]/g,r=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"})[r]);n=n.replace(new RegExp(`{{\\s*${o}\\s*}}`,"g"),a)}),n}async function Ce(e,t,n={}){if(!e||!t)return;let o=j.get(e);if(!o)try{const i=await fetch(ve(e,"html"));if(!i.ok)throw new Error(`Componente ${e} não encontrado`);o=await i.text(),j.set(e,o)}catch(i){t.innerHTML=`<p style="color:red">Erro ao carregar ${e}</p>`,console.error(i);return}const a=Le(o,n),r=document.createElement("div");r.innerHTML=a;const s=Array.from(r.querySelectorAll('link[rel="stylesheet"]')).map(i=>!i.href||H.has(i.href)?Promise.resolve():new Promise(d=>{const l=i.cloneNode(!0);l.onload=l.onerror=d,document.head.appendChild(l),H.add(i.href)}));await Promise.all(s);const c=Array.from(r.querySelectorAll("script"));c.forEach(i=>i.remove()),t.innerHTML=r.innerHTML,c.forEach((i,d)=>{const l=`${e}-${i.src||"inline-"+d}`;if(B.has(l))return;const u=document.createElement("script");i.src?(u.src=i.src,u.defer=!0):u.textContent=i.textContent,document.body.appendChild(u),B.add(l)}),typeof window.setupInstallButton=="function"&&window.setupInstallButton()}function V(e=document){e.querySelectorAll("[data-component]").forEach(t=>{if(t.dataset.initialized==="true")return;const n=t.dataset.component,o=t.dataset.props?JSON.parse(t.dataset.props):{};Ce(n,t,o),t.dataset.initialized="true"})}document.addEventListener("DOMContentLoaded",()=>V());document.addEventListener("spa:pageLoaded",e=>V(e.target));window.loadConstants=async function(e=document){e=e||document;const t=window._loadedCss||new Set,n=window._loadedJs||new Set;window._loadedCss=t,window._loadedJs=n;const o=new Set;e.querySelectorAll("[class*='-']").forEach(s=>s.classList.forEach(c=>{c.includes("-")&&o.add(c)}));const a=[...o];a.forEach(s=>{const[c,i]=s.split("-");if(!c||!i)return;const d=`${p.dirs.models}/${c}/${i}/styles.css`;if(!t.has(d)){const l=document.createElement("link");l.rel="stylesheet",l.href=d,document.head.appendChild(l),t.add(d)}});const r=a.map(s=>{const[c,i]=s.split("-");if(!c||!i)return Promise.resolve();const d=`${p.dirs.models}/${c}/${i}/script.js`;return n.has(d)?(window.Components?.[s]?.init&&window.Components[s].init(),Promise.resolve()):new Promise(l=>{const u=document.createElement("script");u.src=d,u.defer=!0,u.onload=()=>{if(window.Components?.[s]?.init)try{window.Components[s].init()}catch(Q){console.warn(`[Framework] Erro init componente ${s}:`,Q)}l()},u.onerror=()=>{console.warn(`[Framework] Falha ao carregar script: ${d}`),l()},document.body.appendChild(u),n.add(d)})});await Promise.all(r)};let m=null;function Se(e="/sw.js"){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register(e,{type:"module"}).then(t=>console.log("[PWA] Service Worker registrado:",t)).catch(t=>console.error("[PWA] Falha ao registrar SW:",t))})}function Ae(){const e=document.getElementById(A.classInstall);if(!e)return;e.style.display="inline-block";const t=/iphone|ipad|ipod/i.test(navigator.userAgent),n=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;if(t&&!n){e.textContent="Adicionar à Tela Inicial",e.onclick=()=>alert(A.alertIphone);return}if(window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),m=o,console.log("[PWA] Evento beforeinstallprompt capturado!")}),n){e.textContent="Atualizar App",e.onclick=()=>location.reload(!0);return}e.addEventListener("click",async()=>{if(!m){alert(A.alertDesktop);return}m.prompt(),(await m.userChoice).outcome==="accepted"?console.log("[PWA] Usuário aceitou instalar o app!"):console.log("[PWA] Usuário recusou instalar o app."),m=null}),window.addEventListener("appinstalled",()=>{console.log("[PWA] App instalado com sucesso!"),e&&(e.textContent="Atualizar App",e.onclick=()=>location.reload(!0))})}Se();window.setupInstallButton=Ae;ye();const p={dirs:{layouts:"/components/layouts",models:"/components/models"},useChildren:!0,persistentChild:null,defaultChild:"/Init",dirsChild:"/app/Home/home"},S=[{path:/^\/$/,page:"./app/site/site"},{path:/^\/Home$/,page:p.dirsChild}],K=[{path:/^\/Init$/,page:"/app/routes/Init/init"},{path:/^\/Botoes$/,page:"/app/routes/Buttons/buttons"},{path:/^\/Fundos$/,page:"/app/routes/Background/background"},{path:/^\/Anotacoes$/,page:"/app/routes/Note/note"},{path:/^\/Sobre$/,page:"/app/routes/About/about"},{path:/^\/Contato$/,page:"/app/routes/Contact/contact"}],Me={logo:{src:"/constant/image/Frame.png",alt:"imagem da logo",title:"Lucas Bucalon",fetchpriority:"high",dark:"/constant/image/Frame.png",set:{src:"/constant/image/Frame.png",Dark:"/constant/image/Frame.png",maxWidth:768}}},$e={curriculo:{href:"/constant/pdf/Curriculo.pdf",download:!1,type:"application/pdf",title:"Currículo","aria-label":"Currículo em PDF"}},Pe={icon:{src:"/constant/svg/icon.svg",alt:"icon",title:"icon"}},R={scroll:{enabled:!0,mode:"smooth",custom:{ease:.4,stepMin:1,stepMax:60}},fade:{enabled:!0,duration:250,useTranslate:!1,translateValue:"1px"}},h={error:{error404:"./app/pages/error/404",error500:"./app/pages/error/500",errorOffline:"./app/pages/error/offline"},load:{pageLoad:"/app/pages/loads/pageLoad",loading:"/app/pages/loads/loading",loadTime:500},flows:[{path:/^\/Politicas$/,page:"/app/pages/flows/politicas"},{path:/^\/Informacoes$/,page:"/app/pages/flows/informacoes"}]},A={classInstall:"install-btn",alertIphone:`No iPhone/iPad:

1. Toque em 'Compartilhar' (ícone quadrado com seta).
2. Escolha 'Adicionar à Tela de Início'.`,alertDesktop:`Seu dispositivo desktop não suporta instalação deste App.
Para instalar, siga as instruções:

1. Abra o navegador no site.
2. Abra o menu do navegador (três pontos).
3. Procure 'Instalar' ou 'Adicionar à Tela de Início'.
4. Siga as instruções.`};document.addEventListener("DOMContentLoaded",()=>{re(R),y(location.pathname||"/"),ce({enabled:!1,left:"/Botoes",right:"/Fundos",up:"/Sobre",down:"/Contato",threshold:40}),document.addEventListener("spa:pageLoaded",()=>{pe()}),console.log("Main.js initialized: animated config",R)});
