(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();const T={},H=new Set,D=new Set;async function L(t){if(T[t])return T[t];const n=await fetch(t);if(!n.ok)throw new Error(`Erro ao carregar: ${t}`);const e=await n.text();return T[t]=e,e}async function et(t){const n=[];return t.querySelectorAll('link[rel="stylesheet"]').forEach(e=>{const o=e.href;if(!o||H.has(o))return;H.add(o);const r=e.cloneNode(!0);document.head.appendChild(r),n.push(new Promise(a=>{r.onload=a,r.onerror=a}))}),Promise.all(n)}function nt(t){t.querySelectorAll("script").forEach(n=>{const e=n.src;if(e&&D.has(e)){n.remove();return}e&&D.add(e);const o=document.createElement("script");e?(o.src=e,o.type=n.type||"text/javascript",o.defer=!0):o.textContent=n.textContent,t.appendChild(o),n.remove()})}async function ot(t,n,e){const o=document.createElement("div");o.innerHTML=n,await et(o);const r=o.querySelector("#children")||o;let a=t.querySelector("#children-wrapper");a||(a=document.createElement("div"),a.id="children-wrapper",t.appendChild(a));const c=document.createDocumentFragment();if(c.append(...r.childNodes),a.replaceChildren(c),nt(a),typeof window.loadConstants=="function")try{window.loadConstants(a)}catch(d){console.warn("Erro em loadConstants:",d)}const i=o.querySelector("title")?.textContent;i&&(document.title=i);const s={};o.querySelectorAll("meta[name], meta[property]").forEach(d=>{const u=d.getAttribute("name")||d.getAttribute("property");u&&(s[u]=d.getAttribute("content"))}),document.dispatchEvent(new CustomEvent("spa:pageLoaded",{detail:{page:e,title:i,metas:s}}))}let S={scroll:{enabled:!1,mode:"original",custom:{ease:.2,stepMin:.8,stepMax:80}},fade:{enabled:!0,duration:250,useTranslate:!0,translateValue:"1px"}};function W(t,n=250){return new Promise(e=>{if(!t)return e();let o=!1;const r=setTimeout(()=>{o&&(o=!0,c(),e())},n+50);function a(i){i.target!==t||o||(o=!0,c(),e())}function c(){clearTimeout(r),t.removeEventListener("transitionend",a)}t.addEventListener("transitionend",a)})}const P=new WeakMap;async function at(t,n,e){const o=S.fade||{enabled:!1};if(!o.enabled||!t)return n();const r=o.duration,a=o.useTranslate?o.translateValue:null,c=P.get(t);c&&await c.catch(()=>{});const i=(async()=>{const s=t.style.transition;t.style.transition=`opacity ${r}ms ease, transform ${r}ms ease`,t.style.willChange="opacity, transform",t.style.opacity||(t.style.opacity=getComputedStyle(t).opacity||"1"),t.offsetWidth,t.style.opacity="0",a&&(t.style.transform=`translateY(${a})`),await W(t,r),await n(),t.offsetWidth,t.style.opacity="1",a&&(t.style.transform="translateY(0)"),await W(t,r),t.style.transition=s||""})();P.set(t,i);try{await i}finally{P.delete(t)}}let E={initialized:!1,cleanup:null};function rt(t){if(E.initialized||!t?.enabled||("ontouchstart"in window||navigator.maxTouchPoints>0)&&t.mode!=="custom")return;const e={original:{ease:1,stepMin:.5,stepMax:1/0},smooth:{ease:.2,stepMin:.8,stepMax:80},heavy:{ease:.07,stepMin:.6,stepMax:40}},o=t.mode==="custom"?t.custom||t:e[t.mode]||e.smooth;let r=window.scrollY,a=r,c=!1;function i(l,p,b){return Math.max(p,Math.min(b,l))}function s(){const l=r-a;if(Math.abs(l)>.5){let p=l*o.ease;p=i(p,-o.stepMax,o.stepMax),Math.abs(p)<o.stepMin&&(p=p>0?o.stepMin:-o.stepMin),a+=p,window.scrollTo(0,a),requestAnimationFrame(s)}else a=r,window.scrollTo(0,a),c=!1}function d(l){r=i(l,0,document.documentElement.scrollHeight-window.innerHeight),c||(c=!0,requestAnimationFrame(s))}function u(l){const p=l.target?.tagName;l.ctrlKey||["INPUT","TEXTAREA","SELECT"].includes(p)||l.target.isContentEditable||(l.preventDefault(),d(r+l.deltaY))}window.addEventListener("wheel",u,{passive:!1}),E.initialized=!0,E.cleanup=()=>{window.removeEventListener("wheel",u),E.initialized=!1,E.cleanup=null},console.log("Smooth scroll initialized:",o)}function st(t){S={...S,...t},rt(S.scroll)}const $=document.getElementById("route");async function x(t,n="Erro"){const e=g.error?.[t];if(!e){console.error(`gateway.error.${t} não configurado`),$.innerHTML=`<h1>${n}</h1>`,document.title=n;return}try{const o=await L(e.endsWith(".html")?e:`${e}.html`);$.innerHTML=o,document.title=n}catch(o){console.error(`Falha ao carregar gateway ${t}:`,o),$.innerHTML=`<h1>${n}</h1>`,document.title=n}}async function j(){let t=document.getElementById("pageLoad");t||(t=document.createElement("div"),t.id="pageLoad",Object.assign(t.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.85)",zIndex:"9999",color:"#fff"}),document.body.appendChild(t)),t.style.display="flex";try{const n=await L(g.load.pageLoad.endsWith(".html")?g.load.pageLoad:`${g.load.pageLoad}.html`);t.innerHTML=n}catch(n){console.error("Falha ao carregar pageLoad:",n),t.innerHTML="Carregando…"}}function w(){const t=document.getElementById("pageLoad");t&&(t.style.display="none",t.innerHTML="")}async function V(){history.pushState({},"","/404"),await x("error404","404 - Página não encontrada")}async function q(){history.pushState({},"","/500"),await x("error500","500 - Erro interno")}async function X(){history.pushState({},"","/offline"),await x("errorOffline","Sem conexão")}async function O(t){const n=g.flows.find(e=>e.path.test(t));if(n){await j();try{location.pathname!==t&&history.pushState({},"",t);const e=await L(n.page.endsWith(".html")?n.page:`${n.page}.html`);$.innerHTML=e,document.title=n.title||"Flow Page"}catch(e){console.error("Falha ao carregar flow:",e)}finally{w()}}}window.addEventListener("popstate",()=>{const t=location.pathname;g.flows.find(e=>e.path.test(t))?O(t):v(t)});const it=document.getElementById("route"),R=new Set;async function _(t){const n=document.querySelector("#children-wrapper");if(!n)return;const e=Q.find(o=>o.path.test(t));if(!e){V();return}try{const o=await L(e.page.endsWith(".html")?e.page:`${e.page}.html`);await at(n,async()=>{await ot(n,o,e.page)})}catch{navigator.onLine?q():X()}}async function B(t){if(!R.has(t))try{const n=await L(t.endsWith(".html")?t:`${t}.html`);it.innerHTML=n,R.add(t)}catch{q()}}async function v(t){t.startsWith("/")||(t=`/${t}`);const n=Date.now(),e=g.load.loadTime;if(g.flows.some(a=>a.path.test(t))){O(t);return}const o=I.find(a=>a.path.test(t)),r=Q.find(a=>a.path.test(t));try{if(await j(),o){if(await B(o.page),f.useChildren){const i=t.split("/").filter(Boolean)[1]||f.defaultChild;await _(i)}const a=Date.now()-n;a<e&&await new Promise(c=>setTimeout(c,e-a)),w();return}if(r){const a=I.find(c=>c.path.test(`/${f.dirsChild}`))||I[1];await B(a.page),await _(t),w();return}w(),V()}catch{w(),navigator.onLine?q():X()}}function ct(t){const n=t.target.closest("a");if(!n)return;const e=n.getAttribute("href");if(!e||e.startsWith("http")||e.startsWith("mailto:")||n.target==="_blank")return;t.preventDefault();const o=e.startsWith("/")?e:`/${e}`;if(g.flows.some(r=>r.path.test(o))){O(o);return}location.pathname!==o&&window.history.pushState({},"",o),v(o)}document.addEventListener("DOMContentLoaded",async()=>{document.body.addEventListener("click",ct),window.addEventListener("popstate",()=>v(location.pathname)),await j(),await v(location.pathname),w()});function lt(t={}){const n={enabled:t.enabled??!0,up:t.up??null,down:t.down??null,left:t.left??null,right:t.right??null,threshold:t.threshold??50};if(!n.enabled)return;let e=0,o=0;function r(c){const i=c.touches[0];e=i.clientX,o=i.clientY}function a(c){const i=c.changedTouches[0],s=i.clientX-e,d=i.clientY-o;Math.abs(s)>Math.abs(d)&&Math.abs(s)>n.threshold?s>0&&n.right?location.hash=n.right:s<0&&n.left&&(location.hash=n.left):Math.abs(d)>Math.abs(s)&&Math.abs(d)>n.threshold&&(d>0&&n.down?location.hash=n.down:d<0&&n.up&&(location.hash=n.up))}document.addEventListener("touchstart",r,{passive:!0}),document.addEventListener("touchend",a,{passive:!0})}const G=["A listener indicated an asynchronous response","chrome-extension"];window.addEventListener("error",t=>{const n=t.message||"";G.some(e=>n.includes(e))&&(console.warn("Erro ignorado:",n),t.preventDefault())});window.addEventListener("unhandledrejection",t=>{const n=t.reason||"";typeof n=="string"&&n.includes(G[0])&&(console.warn("Rejeição de promessa ignorada:",n),t.preventDefault())});const M={css:new Set,js:new Set};async function dt(t){if(!M.css.has(t))return new Promise(n=>{const e=document.createElement("link");e.rel="stylesheet",e.href=t,e.onload=n,e.onerror=n,document.head.appendChild(e),M.css.add(t)})}async function A(t){if(!M.js.has(t))return new Promise((n,e)=>{const o=document.createElement("script");o.src=t,o.type="module",o.defer=!0,o.onload=()=>n(),o.onerror=()=>e(new Error(`Erro ao carregar ${t}`)),document.body.appendChild(o),M.js.add(t)})}const K=new IntersectionObserver(t=>{t.forEach(async n=>{if(!n.isIntersecting)return;const e=n.target;Array.from(e.classList).filter(o=>o.includes("-")).forEach(async o=>{const[r,a]=o.split("-"),c=`${f.dirs.models}/${r}/${a}/styles.css`,i=`${f.dirs.models}/${r}/${a}/script.js`;try{await dt(c),await A(i);const s=`${r}-${a}`;window.Components?.[s]?.init&&window.Components[s].init()}catch(s){console.warn(s)}}),e.dataset.lazy&&import(e.dataset.lazy).then(o=>o.init?.(e)).catch(()=>{}),e.querySelectorAll("script[type='module'][src$='script.js']").forEach(o=>A(o.src).catch(()=>{})),K.unobserve(e)})},{threshold:.1});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[class*='-'], [data-lazy]").forEach(t=>K.observe(t)),["./modules/layouts.js","./modules/models.js","./modules/children.js","./modules/utils.js"].forEach(t=>A(t).catch(()=>{}))});function ut(t){(t||"").replace(/^#/,""),document.querySelectorAll("[data-lazy]").forEach(n=>{import(n.dataset.lazy).then(e=>e.init?.(n)).catch(()=>{})}),document.querySelectorAll("script[type='module'][src$='script.js']").forEach(n=>A(n.src).catch(()=>{}))}function h(t,n){let e=document.querySelector(t);if(e)for(const[o,r]of Object.entries(n))e.setAttribute(o,r);else{e=document.createElement("meta");for(const[o,r]of Object.entries(n))e.setAttribute(o,r);document.head.appendChild(e)}return e}async function pt(t="./manifest.json"){try{const n=await fetch(t);if(!n.ok)throw new Error("Não foi possível carregar o manifest.json");const e=await n.json(),o=e.name||document.title,r=e.description||"",a=e.author||"",c=e.keywords||"",i=e.url||window.location.href,s=e.type||"website",d=e.image||e.icons?.[0]?.src||"",u=e.theme_color||"#000000",l=e.favicon||"",p=e.global_css||"",b=e.lang||"pt-br",z=e.structured_data||null,Z=e.social?.tag_name||"",tt=e.social?.hashtag_post||"";document.documentElement.lang=b,h('meta[name="description"]',{name:"description",content:r}),h('meta[name="keywords"]',{name:"keywords",content:c}),h('meta[name="author"]',{name:"author",content:a}),h('meta[property="og:title"]',{property:"og:title",content:o}),h('meta[property="og:description"]',{property:"og:description",content:r}),h('meta[property="og:type"]',{property:"og:type",content:s}),h('meta[property="og:url"]',{property:"og:url",content:i}),h('meta[property="og:image"]',{property:"og:image",content:d}),h('meta[property="og:locale"]',{property:"og:locale",content:b.replace("-","_")}),h('meta[property="og:site_name"]',{property:"og:site_name",content:o}),h('meta[name="twitter:card"]',{name:"twitter:card",content:"summary_large_image"}),h('meta[name="twitter:title"]',{name:"twitter:title",content:o}),h('meta[name="twitter:description"]',{name:"twitter:description",content:r}),h('meta[name="twitter:image"]',{name:"twitter:image",content:d}),h('meta[name="twitter:creator"]',{name:"twitter:creator",content:Z});let y=document.querySelector('link[rel="canonical"]');if(y||(y=document.createElement("link"),y.rel="canonical",document.head.appendChild(y)),y.href=i,h('meta[name="theme-color"]',{name:"theme-color",content:u}),l){let m=document.querySelector('link[rel="shortcut icon"]');m||(m=document.createElement("link"),m.rel="shortcut icon",m.type="image/svg+xml",document.head.appendChild(m)),m.href=l}if(p){let m=document.querySelector('link[rel="stylesheet"]');m||(m=document.createElement("link"),m.rel="stylesheet",document.head.appendChild(m)),m.href=p}if(h('meta[name="hashtag-post"]',{name:"hashtag-post",content:tt}),document.title=o,z){let m=document.querySelector("#structured-data");m||(m=document.createElement("script"),m.id="structured-data",m.type="application/ld+json",document.head.appendChild(m)),m.textContent=JSON.stringify(z,null,2)}}catch(n){console.error("Erro ao distribuir meta tags a partir do manifest:",n)}}document.addEventListener("DOMContentLoaded",()=>{pt()});const F=new Set,N=new Set,Y=new Map;function mt(t,n="html"){return`${window.location.origin}/${f.dirs.layouts}/${t}.${n}`}async function ht(t,n,e={}){if(!t||!n)return;let o=Y.get(t);if(!o)try{const s=await fetch(mt(t,"html"));if(!s.ok)throw new Error("not found");o=await s.text(),Y.set(t,o)}catch{n.innerHTML=`<p style="color:red">Erro ao carregar ${t}</p>`;return}let r=o;Object.keys(e).forEach(s=>{const d=String(e[s]).replace(/[&<>"]/g,u=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"})[u]);r=r.replace(new RegExp(`{{\\s*${s}\\s*}}`,"g"),d)});const a=document.createElement("div");a.innerHTML=r;const c=Array.from(a.querySelectorAll('link[rel="stylesheet"]')).map(s=>!s.href||F.has(s.href)?Promise.resolve():new Promise(d=>{const u=s.cloneNode(!0);u.onload=u.onerror=d,document.head.appendChild(u),F.add(s.href)}));await Promise.all(c);const i=Array.from(a.querySelectorAll("script"));i.forEach(s=>s.remove()),n.innerHTML=a.innerHTML,i.forEach((s,d)=>{const u=`${t}-${s.src||"inline-"+d}`;if(N.has(u))return;const l=document.createElement("script");s.src?(l.src=s.src,l.defer=!0):l.textContent=s.textContent,document.body.appendChild(l),N.add(u)}),window.setupInstallButton&&window.setupInstallButton()}function U(){document.querySelectorAll("[data-component]").forEach(t=>{if(t.dataset.initialized==="true")return;const n=t.dataset.component,e=t.dataset.props?JSON.parse(t.dataset.props):{};ht(n,t,e),t.dataset.initialized="true"})}document.addEventListener("DOMContentLoaded",U);document.addEventListener("spa:pageLoaded",U);window.loadConstants=async function(t=document){const n=window._loadedCss||new Set,e=window._loadedJs||new Set;window._loadedCss=n,window._loadedJs=e;const o=(t||document).querySelectorAll("[class*='-']"),r=new Set;o.forEach(i=>i.classList.forEach(s=>{s.includes("-")&&r.add(s)}));const a=[...r];a.forEach(i=>{const[s,d]=i.split("-"),u=`${f.dirs.models}/${s}/${d}/styles.css`;if(!n.has(u)){const l=document.createElement("link");l.rel="stylesheet",l.href=u,document.head.appendChild(l),n.add(u)}});const c=a.map(i=>{const[s,d]=i.split("-"),u=`${f.dirs.models}/${s}/${d}/script.js`;return e.has(u)?(window.Components?.[i]?.init&&window.Components[i].init(),Promise.resolve()):new Promise(l=>{const p=document.createElement("script");p.src=u,p.defer=!0,p.onload=()=>{window.Components?.[i]?.init&&window.Components[i].init(),l()},p.onerror=()=>l(),document.body.appendChild(p),e.add(u)})});await Promise.all(c)};"serviceWorker"in navigator&&navigator.serviceWorker.register("../sw.js",{updateViaCache:"none"}).then(()=>console.log("Service Worker registrado com sucesso!")).catch(t=>console.error("Falha ao registrar SW:",t));let C=null;function ft(){const t=document.getElementById(`${k.classInstall}`);if(!t)return;t.style.display="inline-block";const n=/iphone|ipad|ipod/i.test(navigator.userAgent),e=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;if(n&&!e){t.textContent="Adicionar à Tela Inicial",t.onclick=()=>{alert(k.alertIphone)};return}if(window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),C=o,console.log("Evento beforeinstallprompt capturado!")}),e){t.textContent="Atualizar App",t.onclick=()=>location.reload(!0);return}t.addEventListener("click",async()=>{if(!C){alert(k.alertDesktop);return}C.prompt(),(await C.userChoice).outcome==="accepted"?console.log("Usuário aceitou instalar o app!"):alert("Você cancelou a instalação do app."),C=null}),window.addEventListener("appinstalled",()=>{console.log("App instalado!"),t&&(t.textContent="Atualizar App",t.onclick=()=>location.reload(!0))})}window.setupInstallButton=ft;class gt extends HTMLElement{connectedCallback(){this.render()}render(){const n=this.getAttribute("data-icon"),e=wt[n];if(e&&!this.querySelector("img")){const o=document.createElement("img");o.src=e.src||e,o.alt=this.getAttribute("alt")||n,o.title=this.getAttribute("title")||n,o.loading="lazy",o.decoding="async",this.hasAttribute("width")&&(o.width=this.getAttribute("width")),this.hasAttribute("height")&&(o.height=this.getAttribute("height")),o.setAttribute("role","img"),this.appendChild(o)}}}customElements.get("my-icon")||customElements.define("my-icon",gt);const wt={icon:{src:"/constant/svg/icon.svg",alt:"icon",title:"icon"}},J={scroll:{enabled:!0,mode:"smooth",custom:{ease:.4,stepMin:1,stepMax:60}},fade:{enabled:!0,duration:250,useTranslate:!1,translateValue:"1px"}},f={dirs:{layouts:"/components/layouts",models:"/components/models"},useChildren:!0,persistentChild:null,defaultChild:"/Init",dirsChild:"/app/Home/home"},g={error:{error404:"/app/pages/error/404",error500:"/app/pages/error/500",errorOffline:"/app/pages/error/offline"},load:{pageLoad:"/app/pages/loads/pageLoad",loading:"/app/pages/loads/loading",loadTime:1e3},flows:[{path:/^\/Politicas$/,page:"/app/pages/flows/politicas"},{path:/^\/Informacoes$/,page:"/app/pages/flows/informacoes"}]},I=[{path:/^\/$/,page:"/app/site/site"},{path:/^\/Home$/,page:f.dirsChild}],Q=[{path:/^\/Init$/,page:"/app/routes/Init/init"},{path:/^\/Botoes$/,page:"/app/routes/Buttons/buttons"},{path:/^\/Fundos$/,page:"/app/routes/Background/background"},{path:/^\/Anotacoes$/,page:"/app/routes/Note/note"},{path:/^\/Sobre$/,page:"/app/routes/About/about"},{path:/^\/Contato$/,page:"/app/routes/Contact/contact"}],k={classInstall:"install-btn",alertIphone:`No iPhone/iPad:

1. Toque em 'Compartilhar' (ícone quadrado com seta).
2. Escolha 'Adicionar à Tela de Início'.`,alertDesktop:`Seu dispositivo desktop não suporta instalação deste App.
Para instalar, siga as instruções:

1. Abra o navegador no site.
2. Abra o menu do navegador (três pontos).
3. Procure 'Instalar' ou 'Adicionar à Tela de Início'.
4. Siga as instruções.`};document.addEventListener("DOMContentLoaded",()=>{st(J),v(location.pathname||"/"),lt({enabled:!1,left:"/Botoes",right:"/Fundos",up:"/Sobre",down:"/Contato",threshold:40}),document.addEventListener("spa:pageLoaded",()=>{ut(location.pathname)}),console.log("Main.js initialized: animated config",J)});
